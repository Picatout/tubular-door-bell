WORDS
 [N]? WTINIT CTINIT WTABL@ CTABL@ WTABLE CTABLE CALLOT LN2S LOG2S 12RT2 SQRT10 E SQRT3 SQRT2 PI IFMOVE UPDAT-PTR FMOVE FADDR RAM>EE RFREE BUF>ROW ROW>BUF EEC, EE, SET-IVEC CHKIVEC RST-IVEC PRISTINE SET-OPT WR-ROW ROW-ERASE EE! EEC! WR-WORD WR-BYTE EE-CREAD EE-READ PTR+ INC-FPTR LOCK UNLOCK UNLKFL UNLKEE UPDAT-VP UPDAT-CP UPDAT-RUN UPDAT-LAST EEP-VP EEP-CP EEP-RUN EEP-LAST EEPROM FP! COLD 'BOOT hi WORDS .ID >NAME .S DUMP dm+ _TYPE DO-DCONST DCONST DOCONST CONSTANT VARIABLE CREATE IMMEDIATE I: : INIT-OFS CALL, ] I; ; OVERT $COMPILE $,n ?UNIQUE ." $" ABORT" AFT REPEAT WHILE AHEAD ELSE THEN IF AGAIN UNTIL BEGIN I NEXT FOR $," LITERAL COMPILE [COMPILE] C, , ALLOT ' QUIT PRESET EVAL ?STACK .OK [ $INTERPRET ABORT" ABORT QUERY ACCEPT KTAP TAP ^H NAME? FIND SAME? NAME> TOKEN WORD \ ( .( PARSE parse ? . U. U.R .R ."| $"| DO$ CR TYPE SPACES SPACE NUF? KEY NUMBER? DIGIT? DECIMAL HEX STR #> SIGN #S # HOLD <# EXTRACT DIGIT PACK0 ERASE FILL CMOVE @EXECUTE TIB PAD HERE COUNT 2@ 2! +! PICK DEPTH >CHAR -1 1 0 BL 2/ RSHIFT LSHIFT 1- 1+ 2* 2- 2+ */ */MOD M* * UM* / MOD /MOD M/MOD UM/MOD WITHIN MIN MAX < U< = ABS - S>D DNEGATE NEGATE NOT + 2DUP 2DROP ROT ?DUP OFFSET RAMLAST LAST CP VP CONTEXT HLD 'EVAL TFLASH TBUF #TIB >IN TMP BASE DOVAR UM+ XOR OR AND 0< OVER SWAP DUP DROP SP! SP@ >R R@ R> RP! RP@ C@ C! @ ! EXECUTE BRANCH ?BRANCH next DOLIT EMIT ?KEY TO-RAM TO-FLASH REBOOT TIMEOUT? TIMER PAUSE MSEC RANDOM SEED FREEVAR FORGET AUTORUN SET-ISP DI EI BYE ok
to-flash        TO-FLASH ok

stm8eForth v3.0 on stm8s105k6b6
TO-LFASH     FLASH ok
: r R16| ! ( N   n a -- )
OVER 8 RSHIFT OVER C! 1+ C! ; ok

stm8eForth v3.0 on stm8s105k6b6
WORDS
 R16! [N]? WTINIT CTINIT WTABL@ CTABL@ WTABLE CTABLE CALLOT LN2S LOG2S 12RT2 SQRT10 E SQRT3 SQRT2 PI IFMOVE UPDAT-PTR FMOVE FADDR RAM>EE RFREE BUF>ROW ROW>BUF EEC, EE, SET-IVEC CHKIVEC RST-IVEC PRISTINE SET-OPT WR-ROW ROW-ERASE EE! EEC! WR-WORD WR-BYTE EE-CREAD EE-READ PTR+ INC-FPTR LOCK UNLOCK UNLKFL UNLKEE UPDAT-VP UPDAT-CP UPDAT-RUN UPDAT-LAST EEP-VP EEP-CP EEP-RUN EEP-LAST EEPROM FP! COLD 'BOOT hi WORDS .ID >NAME .S DUMP dm+ _TYPE DO-DCONST DCONST DOCONST CONSTANT VARIABLE CREATE IMMEDIATE I: : INIT-OFS CALL, ] I; ; OVERT $COMPILE $,n ?UNIQUE ." $" ABORT" AFT REPEAT WHILE AHEAD ELSE THEN IF AGAIN UNTIL BEGIN I NEXT FOR $," LITERAL COMPILE [COMPILE] C, , ALLOT ' QUIT PRESET EVAL ?STACK .OK [ $INTERPRET ABORT" ABORT QUERY ACCEPT KTAP TAP ^H NAME? FIND SAME? NAME> TOKEN WORD \ ( .( PARSE parse ? . U. U.R .R ."| $"| DO$ CR TYPE SPACES SPACE NUF? KEY NUMBER? DIGIT? DECIMAL HEX STR #> SIGN #S # HOLD <# EXTRACT DIGIT PACK0 ERASE FILL CMOVE @EXECUTE TIB PAD HERE COUNT 2@ 2! +! PICK DEPTH >CHAR -1 1 0 BL 2/ RSHIFT LSHIFT 1- 1+ 2* 2- 2+ */ */MOD M* * UM* / MOD /MOD M/MOD UM/MOD WITHIN MIN MAX < U< = ABS - S>D DNEGATE NEGATE NOT + 2DUP 2DROP ROT ?DUP OFFSET RAMLAST LAST CP VP CONTEXT HLD 'EVAL TFLASH TBUF #TIB >IN TMP BASE DOVAR UM+ XOR OR AND 0< OVER SWAP DUP DROP SP! SP@ >R R@ R> RP! RP@ C@ C! @ ! EXECUTE BRANCH ?BRANCH next DOLIT EMIT ?KEY TO-RAM TO-FLASH REBOOT TIMEOUT? TIMER PAUSE MSEC RANDOM SEED FREEVAR FORGET AUTORUN SET-ISP DI EI BYE ok
$r 500a A CONSTANT PC-O  _ -OR DR               DUP CONSTANT PC-OR DR ok
1+ DUP CONSTNA  ANT PC-IDR ok
1+ DUP CONSTANT PC-DDR ok
1+ DUP CONSTANT PC-CR1 ok
1+ DUP CONSTANT PC-CR2 ok
1+ DUP CONSTANT PC-  D-OD5 R ok
1+ DUP CONSTANT PC-  D-IDR ok
1+ DUP CONSTANT PC-  D-DDR ok
1+ DUP CONSTANT PC-  D-CR1 ok
1+ DUP CONSTANT PC-  D-CR2 ok
DROP ok
PD-CR2 . 20499 ok
3 6 LSHIFT PC-DDR C! ok
0 3 6 LSHIFT PDC  C-ODR C! ok
7 PD-DDR C1 !
stm8eForth v3.0 on stm8s105k6b6
$500    7 $500D C C! ok
0 $500A C! ok
7 $500 11 C!
stm8eForth v3.0 on stm8s105k6b6
$5011 C@ . 32 ok
7 $5011 C!
stm8eForth v3.0 on stm8s105k6b6
0 $500 11 C!
stm8eForth v3.0 on stm8s105k6b6
$5011 C@ .S
 32 <sp  ok
$5011 C! ok
7 +   32 + C!  $5011 C! ok
7 $500F C! ok
0 $500F C! ok
7 $500F C! ok
: BSET ( B b a -- )
SWA   DUP C@ ROT 1 SWAP LSHIFT OR SWAP C! ; ok
0 $500F BSEST  T ok
$500F C@ . 7 ok
: BRES ( B A     ba  a -- )
DUP C@ ROT 1 SWAPLS   LSHIFT INVERT AND SWAP C! ; INVERT?
: BRES ( B A    b  b a -- )
DUP C@ ROT 1 SWP AP LSHIFT NOT AND SWAP C! ; ok
0 BRES    $500F BRES ok
0 $500F BSET ok
1 $500F BSET   RES ok
0 $500F BSET ok
1 $500F BSET ok
2 $500F BRES ok
2 $500F BSET ok
$500C C@ . 0 ok
6   2 3 6 LSHIST    FT $500C C! ok
5 6 $500A BSET ok
7 $500A BSET ok
: BTOGL ( B b a -- )
d DUP0  C@      OVER      DUP C@ OVER 1      1   ROT 1 SWAP LSHIFT XOR SWAP C    ! ; ok
6 $500A BTOGL ok
6 % $500A BTOGL ok
2 f FOR $500F BRES 5 300 PAUSE                    I $500A BRES 300 PAUSE NEXT                                   TEST    : TEST 2 FOR 8 I $500F BRES 3      2DUP BRES 300 PAUSE BSET NEXT ; ok
TEST ok
TEST ok
TEST ok
TEST ok
: 6 T2  LOOP BEGIN TET ST AGAIN ;       ?KEY UNTIL DROP ; ok
LOOP ok
LOOP ok
: 6 T2 1 FOR I $500A 2DUP BRES 300 PAUSE BSET NEXT ; ok
T2 ok
T2 ok
FORGET T2  For RAM definition do REBOOT?
: T2 1 FOR I 6 + 2DUP BRES 300 PAUSE BSET NEXT ; reDef T2 ok
T2  underflow ?
: T2 1 FOR I 6 + $500A BRES    2DUP BRES 300 PAUSE BEST   SET NEXT ; reDef T2 ok
T2 ok
: T2 1 FOR I 6 + $500A 2DUP BRES 300 PAUSE BSET NEXT ; reDef T2 ok
T2 ok
300 PAUSE ok

stm8eForth v3.0 on stm8s105k6b6
300 PUASE    AUSE ok
WORDS
 R16! [N]? WTINIT CTINIT WTABL@ CTABL@ WTABLE CTABLE CALLOT LN2S LOG2S 12RT2 SQRT10 E SQRT3 SQRT2 PI IFMOVE UPDAT-PTR FMOVE FADDR RAM>EE RFREE BUF>ROW ROW>BUF EEC, EE, SET-IVEC CHKIVEC RST-IVEC PRISTINE SET-OPT WR-ROW ROW-ERASE EE! EEC! WR-WORD WR-BYTE EE-CREAD EE-READ PTR+ INC-FPTR LOCK UNLOCK UNLKFL UNLKEE UPDAT-VP UPDAT-CP UPDAT-RUN UPDAT-LAST EEP-VP EEP-CP EEP-RUN EEP-LAST EEPROM FP! COLD 'BOOT hi WORDS .ID >NAME .S DUMP dm+ _TYPE DO-DCONST DCONST DOCONST CONSTANT VARIABLE CREATE IMMEDIATE I: : INIT-OFS CALL, ] I; ; OVERT $COMPILE $,n ?UNIQUE ." $" ABORT" AFT REPEAT WHILE AHEAD ELSE THEN IF AGAIN UNTIL BEGIN I NEXT FOR $," LITERAL COMPILE [COMPILE] C, , ALLOT ' QUIT PRESET EVAL ?STACK .OK [ $INTERPRET ABORT" ABORT QUERY ACCEPT KTAP TAP ^H NAME? FIND SAME? NAME> TOKEN WORD \ ( .( PARSE parse ? . U. U.R .R ."| $"| DO$ CR TYPE SPACES SPACE NUF? KEY NUMBER? DIGIT? DECIMAL HEX STR #> SIGN #S # HOLD <# EXTRACT DIGIT PACK0 ERASE FILL CMOVE @EXECUTE TIB PAD HERE COUNT 2@ 2! +! PICK DEPTH >CHAR -1 1 0 BL 2/ RSHIFT LSHIFT 1- 1+ 2* 2- 2+ */ */MOD M* * UM* / MOD /MOD M/MOD UM/MOD WITHIN MIN MAX < U< = ABS - S>D DNEGATE NEGATE NOT + 2DUP 2DROP ROT ?DUP OFFSET RAMLAST LAST CP VP CONTEXT HLD 'EVAL TFLASH TBUF #TIB >IN TMP BASE DOVAR UM+ XOR OR AND 0< OVER SWAP DUP DROP SP! SP@ >R R@ R> RP! RP@ C@ C! @ ! EXECUTE BRANCH ?BRANCH next DOLIT EMIT ?KEY TO-RAM TO-FLASH REBOOT TIMEOUT? TIMER PAUSE MSEC RANDOM SEED FREEVAR FORGET AUTORUN SET-ISP DI EI BYE ok
FORGET R6 16! ok
WORDS
 [N]? WTINIT CTINIT WTABL@ CTABL@ WTABLE CTABLE CALLOT LN2S LOG2S 12RT2 SQRT10 E SQRT3 SQRT2 PI IFMOVE UPDAT-PTR FMOVE FADDR RAM>EE RFREE BUF>ROW ROW>BUF EEC, EE, SET-IVEC CHKIVEC RST-IVEC PRISTINE SET-OPT WR-ROW ROW-ERASE EE! EEC! WR-WORD WR-BYTE EE-CREAD EE-READ PTR+ INC-FPTR LOCK UNLOCK UNLKFL UNLKEE UPDAT-VP UPDAT-CP UPDAT-RUN UPDAT-LAST EEP-VP EEP-CP EEP-RUN EEP-LAST EEPROM FP! COLD 'BOOT hi WORDS .ID >NAME .S DUMP dm+ _TYPE DO-DCONST DCONST DOCONST CONSTANT VARIABLE CREATE IMMEDIATE I: : INIT-OFS CALL, ] I; ; OVERT $COMPILE $,n ?UNIQUE ." $" ABORT" AFT REPEAT WHILE AHEAD ELSE THEN IF AGAIN UNTIL BEGIN I NEXT FOR $," LITERAL COMPILE [COMPILE] C, , ALLOT ' QUIT PRESET EVAL ?STACK .OK [ $INTERPRET ABORT" ABORT QUERY ACCEPT KTAP TAP ^H NAME? FIND SAME? NAME> TOKEN WORD \ ( .( PARSE parse ? . U. U.R .R ."| $"| DO$ CR TYPE SPACES SPACE NUF? KEY NUMBER? DIGIT? DECIMAL HEX STR #> SIGN #S # HOLD <# EXTRACT DIGIT PACK0 ERASE FILL CMOVE @EXECUTE TIB PAD HERE COUNT 2@ 2! +! PICK DEPTH >CHAR -1 1 0 BL 2/ RSHIFT LSHIFT 1- 1+ 2* 2- 2+ */ */MOD M* * UM* / MOD /MOD M/MOD UM/MOD WITHIN MIN MAX < U< = ABS - S>D DNEGATE NEGATE NOT + 2DUP 2DROP ROT ?DUP OFFSET RAMLAST LAST CP VP CONTEXT HLD 'EVAL TFLASH TBUF #TIB >IN TMP BASE DOVAR UM+ XOR OR AND 0< OVER SWAP DUP DROP SP! SP@ >R R@ R> RP! RP@ C@ C! @ ! EXECUTE BRANCH ?BRANCH next DOLIT EMIT ?KEY TO-RAM TO-FLASH REBOOT TIMEOUT? TIMER PAUSE MSEC RANDOM SEED FREEVAR FORGET AUTORUN SET-ISP DI EI BYE ok
 ok
\ *************************************** \   Application module written in  \   ok
 ********************   : BSET ( b a -- ) \ set register bit DUP C@ ROT 1 SWAP L ********************?
SD SWAP C! ;  : BTOGL ( b a -- ) \ toggle register bit DUP C@ ROT 1 SWAP LSHIFT  SD?
XR 8 RSHIFT OVER C! 1+ C! ;      XR?
WPRD   OPR  RDS
 [N]? WTINIT CTINIT WTABL@ CTABL@ WTABLE CTABLE CALLOT LN2S LOG2S 12RT2 SQRT10 E SQRT3 SQRT2 PI IFMOVE UPDAT-PTR FMOVE FADDR RAM>EE RFREE BUF>ROW ROW>BUF EEC, EE, SET-IVEC CHKIVEC RST-IVEC PRISTINE SET-OPT WR-ROW ROW-ERASE EE! EEC! WR-WORD WR-BYTE EE-CREAD EE-READ PTR+ INC-FPTR LOCK UNLOCK UNLKFL UNLKEE UPDAT-VP UPDAT-CP UPDAT-RUN UPDAT-LAST EEP-VP EEP-CP EEP-RUN EEP-LAST EEPROM FP! COLD 'BOOT hi WORDS .ID >NAME .S DUMP dm+ _TYPE DO-DCONST DCONST DOCONST CONSTANT VARIABLE CREATE IMMEDIATE I: : INIT-OFS CALL, ] I; ; OVERT $COMPILE $,n ?UNIQUE ." $" ABORT" AFT REPEAT WHILE AHEAD ELSE THEN IF AGAIN UNTIL BEGIN I NEXT FOR $," LITERAL COMPILE [COMPILE] C, , ALLOT ' QUIT PRESET EVAL ?STACK .OK [ $INTERPRET ABORT" ABORT QUERY ACCEPT KTAP TAP ^H NAME? FIND SAME? NAME> TOKEN WORD \ ( .( PARSE parse ? . U. U.R .R ."| $"| DO$ CR TYPE SPACES SPACE NUF? KEY NUMBER? DIGIT? DECIMAL HEX STR #> SIGN #S # HOLD <# EXTRACT DIGIT PACK0 ERASE FILL CMOVE @EXECUTE TIB PAD HERE COUNT 2@ 2! +! PICK DEPTH >CHAR -1 1 0 BL 2/ RSHIFT LSHIFT 1- 1+ 2* 2- 2+ */ */MOD M* * UM* / MOD /MOD M/MOD UM/MOD WITHIN MIN MAX < U< = ABS - S>D DNEGATE NEGATE NOT + 2DUP 2DROP ROT ?DUP OFFSET RAMLAST LAST CP VP CONTEXT HLD 'EVAL TFLASH TBUF #TIB >IN TMP BASE DOVAR UM+ XOR OR AND 0< OVER SWAP DUP DROP SP! SP@ >R R@ R> RP! RP@ C@ C! @ ! EXECUTE BRANCH ?BRANCH next DOLIT EMIT ?KEY TO-RAM TO-FLASH REBOOT TIMEOUT? TIMER PAUSE MSEC RANDOM SEED FREEVAR FORGET AUTORUN SET-ISP DI EI BYE ok
\ *************************************** \   Application module written in  \   ok
 \ ***************************************   : BSET ( b a -- ) \ set register bi ok
tDUP C@ ROT 1 SWAP LSHIFT OR SWAP C! ;  : BRES ( b a -- ) \ reset register bit D tDUP?
U : BTOGL ( b a -- ) \ toggle register bit DUP C@ ROT 1 SWAP LSHIFT XOR SWAP C!  U?
; : R16! ( n a -- ) \ set 16 bits register value OVER 8 RSHIFT OVER C! 1+ C! ;    compile only?
    ok
WORDS
 [N]? WTINIT CTINIT WTABL@ CTABL@ WTABLE CTABLE CALLOT LN2S LOG2S 12RT2 SQRT10 E SQRT3 SQRT2 PI IFMOVE UPDAT-PTR FMOVE FADDR RAM>EE RFREE BUF>ROW ROW>BUF EEC, EE, SET-IVEC CHKIVEC RST-IVEC PRISTINE SET-OPT WR-ROW ROW-ERASE EE! EEC! WR-WORD WR-BYTE EE-CREAD EE-READ PTR+ INC-FPTR LOCK UNLOCK UNLKFL UNLKEE UPDAT-VP UPDAT-CP UPDAT-RUN UPDAT-LAST EEP-VP EEP-CP EEP-RUN EEP-LAST EEPROM FP! COLD 'BOOT hi WORDS .ID >NAME .S DUMP dm+ _TYPE DO-DCONST DCONST DOCONST CONSTANT VARIABLE CREATE IMMEDIATE I: : INIT-OFS CALL, ] I; ; OVERT $COMPILE $,n ?UNIQUE ." $" ABORT" AFT REPEAT WHILE AHEAD ELSE THEN IF AGAIN UNTIL BEGIN I NEXT FOR $," LITERAL COMPILE [COMPILE] C, , ALLOT ' QUIT PRESET EVAL ?STACK .OK [ $INTERPRET ABORT" ABORT QUERY ACCEPT KTAP TAP ^H NAME? FIND SAME? NAME> TOKEN WORD \ ( .( PARSE parse ? . U. U.R .R ."| $"| DO$ CR TYPE SPACES SPACE NUF? KEY NUMBER? DIGIT? DECIMAL HEX STR #> SIGN #S # HOLD <# EXTRACT DIGIT PACK0 ERASE FILL CMOVE @EXECUTE TIB PAD HERE COUNT 2@ 2! +! PICK DEPTH >CHAR -1 1 0 BL 2/ RSHIFT LSHIFT 1- 1+ 2* 2- 2+ */ */MOD M* * UM* / MOD /MOD M/MOD UM/MOD WITHIN MIN MAX < U< = ABS - S>D DNEGATE NEGATE NOT + 2DUP 2DROP ROT ?DUP OFFSET RAMLAST LAST CP VP CONTEXT HLD 'EVAL TFLASH TBUF #TIB >IN TMP BASE DOVAR UM+ XOR OR AND 0< OVER SWAP DUP DROP SP! SP@ >R R@ R> RP! RP@ C@ C! @ ! EXECUTE BRANCH ?BRANCH next DOLIT EMIT ?KEY TO-RAM TO-FLASH REBOOT TIMEOUT? TIMER PAUSE MSEC RANDOM SEED FREEVAR FORGET AUTORUN SET-ISP DI EI BYE ok
: TEST ; ok
WORDS
 TEST [N]? WTINIT CTINIT WTABL@ CTABL@ WTABLE CTABLE CALLOT LN2S LOG2S 12RT2 SQRT10 E SQRT3 SQRT2 PI IFMOVE UPDAT-PTR FMOVE FADDR RAM>EE RFREE BUF>ROW ROW>BUF EEC, EE, SET-IVEC CHKIVEC RST-IVEC PRISTINE SET-OPT WR-ROW ROW-ERASE EE! EEC! WR-WORD WR-BYTE EE-CREAD EE-READ PTR+ INC-FPTR LOCK UNLOCK UNLKFL UNLKEE UPDAT-VP UPDAT-CP UPDAT-RUN UPDAT-LAST EEP-VP EEP-CP EEP-RUN EEP-LAST EEPROM FP! COLD 'BOOT hi WORDS .ID >NAME .S DUMP dm+ _TYPE DO-DCONST DCONST DOCONST CONSTANT VARIABLE CREATE IMMEDIATE I: : INIT-OFS CALL, ] I; ; OVERT $COMPILE $,n ?UNIQUE ." $" ABORT" AFT REPEAT WHILE AHEAD ELSE THEN IF AGAIN UNTIL BEGIN I NEXT FOR $," LITERAL COMPILE [COMPILE] C, , ALLOT ' QUIT PRESET EVAL ?STACK .OK [ $INTERPRET ABORT" ABORT QUERY ACCEPT KTAP TAP ^H NAME? FIND SAME? NAME> TOKEN WORD \ ( .( PARSE parse ? . U. U.R .R ."| $"| DO$ CR TYPE SPACES SPACE NUF? KEY NUMBER? DIGIT? DECIMAL HEX STR #> SIGN #S # HOLD <# EXTRACT DIGIT PACK0 ERASE FILL CMOVE @EXECUTE TIB PAD HERE COUNT 2@ 2! +! PICK DEPTH >CHAR -1 1 0 BL 2/ RSHIFT LSHIFT 1- 1+ 2* 2- 2+ */ */MOD M* * UM* / MOD /MOD M/MOD UM/MOD WITHIN MIN MAX < U< = ABS - S>D DNEGATE NEGATE NOT + 2DUP 2DROP ROT ?DUP OFFSET RAMLAST LAST CP VP CONTEXT HLD 'EVAL TFLASH TBUF #TIB >IN TMP BASE DOVAR UM+ XOR OR AND 0< OVER SWAP DUP DROP SP! SP@ >R R@ R> RP! RP@ C@ C! @ ! EXECUTE BRANCH ?BRANCH next DOLIT EMIT ?KEY TO-RAM TO-FLASH REBOOT TIMEOUT? TIMER PAUSE MSEC RANDOM SEED FREEVAR FORGET AUTORUN SET-ISP DI EI BYE ok
FOR   REBOOT
stm8eForth v3.0 on stm8s105k6b6
 ok
\ ***************************************  ok
\ fdsfa ok
WORDS
 [N]? WTINIT CTINIT WTABL@ CTABL@ WTABLE CTABLE CALLOT LN2S LOG2S 12RT2 SQRT10 E SQRT3 SQRT2 PI IFMOVE UPDAT-PTR FMOVE FADDR RAM>EE RFREE BUF>ROW ROW>BUF EEC, EE, SET-IVEC CHKIVEC RST-IVEC PRISTINE SET-OPT WR-ROW ROW-ERASE EE! EEC! WR-WORD WR-BYTE EE-CREAD EE-READ PTR+ INC-FPTR LOCK UNLOCK UNLKFL UNLKEE UPDAT-VP UPDAT-CP UPDAT-RUN UPDAT-LAST EEP-VP EEP-CP EEP-RUN EEP-LAST EEPROM FP! COLD 'BOOT hi WORDS .ID >NAME .S DUMP dm+ _TYPE DO-DCONST DCONST DOCONST CONSTANT VARIABLE CREATE IMMEDIATE I: : INIT-OFS CALL, ] I; ; OVERT $COMPILE $,n ?UNIQUE ." $" ABORT" AFT REPEAT WHILE AHEAD ELSE THEN IF AGAIN UNTIL BEGIN I NEXT FOR $," LITERAL COMPILE [COMPILE] C, , ALLOT ' QUIT PRESET EVAL ?STACK .OK [ $INTERPRET ABORT" ABORT QUERY ACCEPT KTAP TAP ^H NAME? FIND SAME? NAME> TOKEN WORD \ ( .( PARSE parse ? . U. U.R .R ."| $"| DO$ CR TYPE SPACES SPACE NUF? KEY NUMBER? DIGIT? DECIMAL HEX STR #> SIGN #S # HOLD <# EXTRACT DIGIT PACK0 ERASE FILL CMOVE @EXECUTE TIB PAD HERE COUNT 2@ 2! +! PICK DEPTH >CHAR -1 1 0 BL 2/ RSHIFT LSHIFT 1- 1+ 2* 2- 2+ */ */MOD M* * UM* / MOD /MOD M/MOD UM/MOD WITHIN MIN MAX < U< = ABS - S>D DNEGATE NEGATE NOT + 2DUP 2DROP ROT ?DUP OFFSET RAMLAST LAST CP VP CONTEXT HLD 'EVAL TFLASH TBUF #TIB >IN TMP BASE DOVAR UM+ XOR OR AND 0< OVER SWAP DUP DROP SP! SP@ >R R@ R> RP! RP@ C@ C! @ ! EXECUTE BRANCH ?BRANCH next DOLIT EMIT ?KEY TO-RAM TO-FLASH REBOOT TIMEOUT? TIMER PAUSE MSEC RANDOM SEED FREEVAR FORGET AUTORUN SET-ISP DI EI BYE ok
\ ***************************************  ok
\ *************************************** ok
\ ok
\*********************** \***********************?
 ok
)eset register bit )eset?
Dle register bit Dle?
D bits register value D?
O O?
WORDS
 [N]? WTINIT CTINIT WTABL@ CTABL@ WTABLE CTABLE CALLOT LN2S LOG2S 12RT2 SQRT10 E SQRT3 SQRT2 PI IFMOVE UPDAT-PTR FMOVE FADDR RAM>EE RFREE BUF>ROW ROW>BUF EEC, EE, SET-IVEC CHKIVEC RST-IVEC PRISTINE SET-OPT WR-ROW ROW-ERASE EE! EEC! WR-WORD WR-BYTE EE-CREAD EE-READ PTR+ INC-FPTR LOCK UNLOCK UNLKFL UNLKEE UPDAT-VP UPDAT-CP UPDAT-RUN UPDAT-LAST EEP-VP EEP-CP EEP-RUN EEP-LAST EEPROM FP! COLD 'BOOT hi WORDS .ID >NAME .S DUMP dm+ _TYPE DO-DCONST DCONST DOCONST CONSTANT VARIABLE CREATE IMMEDIATE I: : INIT-OFS CALL, ] I; ; OVERT $COMPILE $,n ?UNIQUE ." $" ABORT" AFT REPEAT WHILE AHEAD ELSE THEN IF AGAIN UNTIL BEGIN I NEXT FOR $," LITERAL COMPILE [COMPILE] C, , ALLOT ' QUIT PRESET EVAL ?STACK .OK [ $INTERPRET ABORT" ABORT QUERY ACCEPT KTAP TAP ^H NAME? FIND SAME? NAME> TOKEN WORD \ ( .( PARSE parse ? . U. U.R .R ."| $"| DO$ CR TYPE SPACES SPACE NUF? KEY NUMBER? DIGIT? DECIMAL HEX STR #> SIGN #S # HOLD <# EXTRACT DIGIT PACK0 ERASE FILL CMOVE @EXECUTE TIB PAD HERE COUNT 2@ 2! +! PICK DEPTH >CHAR -1 1 0 BL 2/ RSHIFT LSHIFT 1- 1+ 2* 2- 2+ */ */MOD M* * UM* / MOD /MOD M/MOD UM/MOD WITHIN MIN MAX < U< = ABS - S>D DNEGATE NEGATE NOT + 2DUP 2DROP ROT ?DUP OFFSET RAMLAST LAST CP VP CONTEXT HLD 'EVAL TFLASH TBUF #TIB >IN TMP BASE DOVAR UM+ XOR OR AND 0< OVER SWAP DUP DROP SP! SP@ >R R@ R> RP! RP@ C@ C! @ ! EXECUTE BRANCH ?BRANCH next DOLIT EMIT ?KEY TO-RAM TO-FLASH REBOOT TIMEOUT? TIMER PAUSE MSEC RANDOM SEED FREEVAR FORGET AUTORUN SET-ISP DI EI BYE ok
\ *************************************** ok
 \   Application module written in  ok
 \   stm8_eForth ok
 \ *************************************** ok
  ok
  ok
 : BSET ( b a -- ) \ set register bit
  
; ok
WORDS
 BSET [N]? WTINIT CTINIT WTABL@ CTABL@ WTABLE CTABLE CALLOT LN2S LOG2S 12RT2 SQRT10 E SQRT3 SQRT2 PI IFMOVE UPDAT-PTR FMOVE FADDR RAM>EE RFREE BUF>ROW ROW>BUF EEC, EE, SET-IVEC CHKIVEC RST-IVEC PRISTINE SET-OPT WR-ROW ROW-ERASE EE! EEC! WR-WORD WR-BYTE EE-CREAD EE-READ PTR+ INC-FPTR LOCK UNLOCK UNLKFL UNLKEE UPDAT-VP UPDAT-CP UPDAT-RUN UPDAT-LAST EEP-VP EEP-CP EEP-RUN EEP-LAST EEPROM FP! COLD 'BOOT hi WORDS .ID >NAME .S DUMP dm+ _TYPE DO-DCONST DCONST DOCONST CONSTANT VARIABLE CREATE IMMEDIATE I: : INIT-OFS CALL, ] I; ; OVERT $COMPILE $,n ?UNIQUE ." $" ABORT" AFT REPEAT WHILE AHEAD ELSE THEN IF AGAIN UNTIL BEGIN I NEXT FOR $," LITERAL COMPILE [COMPILE] C, , ALLOT ' QUIT PRESET EVAL ?STACK .OK [ $INTERPRET ABORT" ABORT QUERY ACCEPT KTAP TAP ^H NAME? FIND SAME? NAME> TOKEN WORD \ ( .( PARSE parse ? . U. U.R .R ."| $"| DO$ CR TYPE SPACES SPACE NUF? KEY NUMBER? DIGIT? DECIMAL HEX STR #> SIGN #S # HOLD <# EXTRACT DIGIT PACK0 ERASE FILL CMOVE @EXECUTE TIB PAD HERE COUNT 2@ 2! +! PICK DEPTH >CHAR -1 1 0 BL 2/ RSHIFT LSHIFT 1- 1+ 2* 2- 2+ */ */MOD M* * UM* / MOD /MOD M/MOD UM/MOD WITHIN MIN MAX < U< = ABS - S>D DNEGATE NEGATE NOT + 2DUP 2DROP ROT ?DUP OFFSET RAMLAST LAST CP VP CONTEXT HLD 'EVAL TFLASH TBUF #TIB >IN TMP BASE DOVAR UM+ XOR OR AND 0< OVER SWAP DUP DROP SP! SP@ >R R@ R> RP! RP@ C@ C! @ ! EXECUTE BRANCH ?BRANCH next DOLIT EMIT ?KEY TO-RAM TO-FLASH REBOOT TIMEOUT? TIMER PAUSE MSEC RANDOM SEED FREEVAR FORGET AUTORUN SET-ISP DI EI BYE ok
FORGET BSET  For RAM definition do REBOOT?
REBOOT
stm8eForth v3.0 on stm8s105k6b6
\ *************************************** ok
 \   Application module written in  ok
 \   stm8_eForth ok
 \ *************************************** ok
  ok
  ok
 : BSET ( b a -- ) \ set register bit
 DUP C@ ROT 1 SWAP LSHIFT OR SWAP C! ; ok
 : BRES ( b a -- ) \ reset register bit
 DUP C@ ROT 1 SWAP LSHIFT NOT AND SWAP C! ; ok
 : BTOGL ( b a -- ) \ toggle register bit
 DUP C@ ROT 1 SWAP LSHIFT XOR SWAP C! ;  ok
 : R16! ( n a -- ) \ set 16 bits register value
 OVER 8 RSHIFT OVER C! 1+ C! ; ok
  ok
  ok
  ok
 WORDS
 R16! BTOGL BRES BSET [N]? WTINIT CTINIT WTABL@ CTABL@ WTABLE CTABLE CALLOT LN2S LOG2S 12RT2 SQRT10 E SQRT3 SQRT2 PI IFMOVE UPDAT-PTR FMOVE FADDR RAM>EE RFREE BUF>ROW ROW>BUF EEC, EE, SET-IVEC CHKIVEC RST-IVEC PRISTINE SET-OPT WR-ROW ROW-ERASE EE! EEC! WR-WORD WR-BYTE EE-CREAD EE-READ PTR+ INC-FPTR LOCK UNLOCK UNLKFL UNLKEE UPDAT-VP UPDAT-CP UPDAT-RUN UPDAT-LAST EEP-VP EEP-CP EEP-RUN EEP-LAST EEPROM FP! COLD 'BOOT hi WORDS .ID >NAME .S DUMP dm+ _TYPE DO-DCONST DCONST DOCONST CONSTANT VARIABLE CREATE IMMEDIATE I: : INIT-OFS CALL, ] I; ; OVERT $COMPILE $,n ?UNIQUE ." $" ABORT" AFT REPEAT WHILE AHEAD ELSE THEN IF AGAIN UNTIL BEGIN I NEXT FOR $," LITERAL COMPILE [COMPILE] C, , ALLOT ' QUIT PRESET EVAL ?STACK .OK [ $INTERPRET ABORT" ABORT QUERY ACCEPT KTAP TAP ^H NAME? FIND SAME? NAME> TOKEN WORD \ ( .( PARSE parse ? . U. U.R .R ."| $"| DO$ CR TYPE SPACES SPACE NUF? KEY NUMBER? DIGIT? DECIMAL HEX STR #> SIGN #S # HOLD <# EXTRACT DIGIT PACK0 ERASE FILL CMOVE @EXECUTE TIB PAD HERE COUNT 2@ 2! +! PICK DEPTH >CHAR -1 1 0 BL 2/ RSHIFT LSHIFT 1- 1+ 2* 2- 2+ */ */MOD M* * UM* / MOD /MOD M/MOD UM/MOD WITHIN MIN MAX < U< = ABS - S>D DNEGATE NEGATE NOT + 2DUP 2DROP ROT ?DUP OFFSET RAMLAST LAST CP VP CONTEXT HLD 'EVAL TFLASH TBUF #TIB >IN TMP BASE DOVAR UM+ XOR OR AND 0< OVER SWAP DUP DROP SP! SP@ >R R@ R> RP! RP@ C@ C! @ ! EXECUTE BRANCH ?BRANCH next DOLIT EMIT ?KEY TO-RAM TO-FLASH REBOOT TIMEOUT? TIMER PAUSE MSEC RANDOM SEED FREEVAR FORGET AUTORUN SET-ISP DI EI BYE ok
REBOOT
stm8eForth v3.0 on stm8s105k6b6
WORDS
 [N]? WTINIT CTINIT WTABL@ CTABL@ WTABLE CTABLE CALLOT LN2S LOG2S 12RT2 SQRT10 E SQRT3 SQRT2 PI IFMOVE UPDAT-PTR FMOVE FADDR RAM>EE RFREE BUF>ROW ROW>BUF EEC, EE, SET-IVEC CHKIVEC RST-IVEC PRISTINE SET-OPT WR-ROW ROW-ERASE EE! EEC! WR-WORD WR-BYTE EE-CREAD EE-READ PTR+ INC-FPTR LOCK UNLOCK UNLKFL UNLKEE UPDAT-VP UPDAT-CP UPDAT-RUN UPDAT-LAST EEP-VP EEP-CP EEP-RUN EEP-LAST EEPROM FP! COLD 'BOOT hi WORDS .ID >NAME .S DUMP dm+ _TYPE DO-DCONST DCONST DOCONST CONSTANT VARIABLE CREATE IMMEDIATE I: : INIT-OFS CALL, ] I; ; OVERT $COMPILE $,n ?UNIQUE ." $" ABORT" AFT REPEAT WHILE AHEAD ELSE THEN IF AGAIN UNTIL BEGIN I NEXT FOR $," LITERAL COMPILE [COMPILE] C, , ALLOT ' QUIT PRESET EVAL ?STACK .OK [ $INTERPRET ABORT" ABORT QUERY ACCEPT KTAP TAP ^H NAME? FIND SAME? NAME> TOKEN WORD \ ( .( PARSE parse ? . U. U.R .R ."| $"| DO$ CR TYPE SPACES SPACE NUF? KEY NUMBER? DIGIT? DECIMAL HEX STR #> SIGN #S # HOLD <# EXTRACT DIGIT PACK0 ERASE FILL CMOVE @EXECUTE TIB PAD HERE COUNT 2@ 2! +! PICK DEPTH >CHAR -1 1 0 BL 2/ RSHIFT LSHIFT 1- 1+ 2* 2- 2+ */ */MOD M* * UM* / MOD /MOD M/MOD UM/MOD WITHIN MIN MAX < U< = ABS - S>D DNEGATE NEGATE NOT + 2DUP 2DROP ROT ?DUP OFFSET RAMLAST LAST CP VP CONTEXT HLD 'EVAL TFLASH TBUF #TIB >IN TMP BASE DOVAR UM+ XOR OR AND 0< OVER SWAP DUP DROP SP! SP@ >R R@ R> RP! RP@ C@ C! @ ! EXECUTE BRANCH ?BRANCH next DOLIT EMIT ?KEY TO-RAM TO-FLASH REBOOT TIMEOUT? TIMER PAUSE MSEC RANDOM SEED FREEVAR FORGET AUTORUN SET-ISP DI EI BYE ok
\ *************************************** ok
\ ok
\*********************** \***********************?
 ok
)eset register bit )eset?
Dle register bit Dle?
D bits register value D?
O O?
WROD   ORDS
 [N]? WTINIT CTINIT WTABL@ CTABL@ WTABLE CTABLE CALLOT LN2S LOG2S 12RT2 SQRT10 E SQRT3 SQRT2 PI IFMOVE UPDAT-PTR FMOVE FADDR RAM>EE RFREE BUF>ROW ROW>BUF EEC, EE, SET-IVEC CHKIVEC RST-IVEC PRISTINE SET-OPT WR-ROW ROW-ERASE EE! EEC! WR-WORD WR-BYTE EE-CREAD EE-READ PTR+ INC-FPTR LOCK UNLOCK UNLKFL UNLKEE UPDAT-VP UPDAT-CP UPDAT-RUN UPDAT-LAST EEP-VP EEP-CP EEP-RUN EEP-LAST EEPROM FP! COLD 'BOOT hi WORDS .ID >NAME .S DUMP dm+ _TYPE DO-DCONST DCONST DOCONST CONSTANT VARIABLE CREATE IMMEDIATE I: : INIT-OFS CALL, ] I; ; OVERT $COMPILE $,n ?UNIQUE ." $" ABORT" AFT REPEAT WHILE AHEAD ELSE THEN IF AGAIN UNTIL BEGIN I NEXT FOR $," LITERAL COMPILE [COMPILE] C, , ALLOT ' QUIT PRESET EVAL ?STACK .OK [ $INTERPRET ABORT" ABORT QUERY ACCEPT KTAP TAP ^H NAME? FIND SAME? NAME> TOKEN WORD \ ( .( PARSE parse ? . U. U.R .R ."| $"| DO$ CR TYPE SPACES SPACE NUF? KEY NUMBER? DIGIT? DECIMAL HEX STR #> SIGN #S # HOLD <# EXTRACT DIGIT PACK0 ERASE FILL CMOVE @EXECUTE TIB PAD HERE COUNT 2@ 2! +! PICK DEPTH >CHAR -1 1 0 BL 2/ RSHIFT LSHIFT 1- 1+ 2* 2- 2+ */ */MOD M* * UM* / MOD /MOD M/MOD UM/MOD WITHIN MIN MAX < U< = ABS - S>D DNEGATE NEGATE NOT + 2DUP 2DROP ROT ?DUP OFFSET RAMLAST LAST CP VP CONTEXT HLD 'EVAL TFLASH TBUF #TIB >IN TMP BASE DOVAR UM+ XOR OR AND 0< OVER SWAP DUP DROP SP! SP@ >R R@ R> RP! RP@ C@ C! @ ! EXECUTE BRANCH ?BRANCH next DOLIT EMIT ?KEY TO-RAM TO-FLASH REBOOT TIMEOUT? TIMER PAUSE MSEC RANDOM SEED FREEVAR FORGET AUTORUN SET-ISP DI EI BYE ok
\ *************************************** ok
\ ok
\*********************** \***********************?
 ok
)eset register bit )eset?
Dle register bit Dle?
D bits register value D?
O O?
\ *************************************** ok
 \   Application module written in  ok
 \   stm8_eForth ok
 \ *************************************** ok
  ok
  ok
 : BSET ( b a -- ) \ set register bit
 DUP C@ ROT 1 SWAP LSHIFT OR SWAP C! ; ok
  ok
 : BRES ( b a -- ) \ reset register bit
 DUP C@ ROT 1 SWAP LSHIFT NOT AND SWAP C! ; ok
 : BTOGL ( b a -- ) \ toggle register bit
 DUP C@ ROT 1 SWAP LSHIFT XOR SWAP C! ;  ok
 : R16! ( n a -- ) \ set 16 bits register value
 OVER 8 RSHIFT OVER C! 1+ C! ; ok
 WORDS
 R16! BTOGL BRES BSET [N]? WTINIT CTINIT WTABL@ CTABL@ WTABLE CTABLE CALLOT LN2S LOG2S 12RT2 SQRT10 E SQRT3 SQRT2 PI IFMOVE UPDAT-PTR FMOVE FADDR RAM>EE RFREE BUF>ROW ROW>BUF EEC, EE, SET-IVEC CHKIVEC RST-IVEC PRISTINE SET-OPT WR-ROW ROW-ERASE EE! EEC! WR-WORD WR-BYTE EE-CREAD EE-READ PTR+ INC-FPTR LOCK UNLOCK UNLKFL UNLKEE UPDAT-VP UPDAT-CP UPDAT-RUN UPDAT-LAST EEP-VP EEP-CP EEP-RUN EEP-LAST EEPROM FP! COLD 'BOOT hi WORDS .ID >NAME .S DUMP dm+ _TYPE DO-DCONST DCONST DOCONST CONSTANT VARIABLE CREATE IMMEDIATE I: : INIT-OFS CALL, ] I; ; OVERT $COMPILE $,n ?UNIQUE ." $" ABORT" AFT REPEAT WHILE AHEAD ELSE THEN IF AGAIN UNTIL BEGIN I NEXT FOR $," LITERAL COMPILE [COMPILE] C, , ALLOT ' QUIT PRESET EVAL ?STACK .OK [ $INTERPRET ABORT" ABORT QUERY ACCEPT KTAP TAP ^H NAME? FIND SAME? NAME> TOKEN WORD \ ( .( PARSE parse ? . U. U.R .R ."| $"| DO$ CR TYPE SPACES SPACE NUF? KEY NUMBER? DIGIT? DECIMAL HEX STR #> SIGN #S # HOLD <# EXTRACT DIGIT PACK0 ERASE FILL CMOVE @EXECUTE TIB PAD HERE COUNT 2@ 2! +! PICK DEPTH >CHAR -1 1 0 BL 2/ RSHIFT LSHIFT 1- 1+ 2* 2- 2+ */ */MOD M* * UM* / MOD /MOD M/MOD UM/MOD WITHIN MIN MAX < U< = ABS - S>D DNEGATE NEGATE NOT + 2DUP 2DROP ROT ?DUP OFFSET RAMLAST LAST CP VP CONTEXT HLD 'EVAL TFLASH TBUF #TIB >IN TMP BASE DOVAR UM+ XOR OR AND 0< OVER SWAP DUP DROP SP! SP@ >R R@ R> RP! RP@ C@ C! @ ! EXECUTE BRANCH ?BRANCH next DOLIT EMIT ?KEY TO-RAM TO-FLASH REBOOT TIMEOUT? TIMER PAUSE MSEC RANDOM SEED FREEVAR FORGET AUTORUN SET-ISP DI EI BYE ok
REBOOT
stm8eForth v3.0 on stm8s105k6b6
WORDS
 [N]? WTINIT CTINIT WTABL@ CTABL@ WTABLE CTABLE CALLOT LN2S LOG2S 12RT2 SQRT10 E SQRT3 SQRT2 PI IFMOVE UPDAT-PTR FMOVE FADDR RAM>EE RFREE BUF>ROW ROW>BUF EEC, EE, SET-IVEC CHKIVEC RST-IVEC PRISTINE SET-OPT WR-ROW ROW-ERASE EE! EEC! WR-WORD WR-BYTE EE-CREAD EE-READ PTR+ INC-FPTR LOCK UNLOCK UNLKFL UNLKEE UPDAT-VP UPDAT-CP UPDAT-RUN UPDAT-LAST EEP-VP EEP-CP EEP-RUN EEP-LAST EEPROM FP! COLD 'BOOT hi WORDS .ID >NAME .S DUMP dm+ _TYPE DO-DCONST DCONST DOCONST CONSTANT VARIABLE CREATE IMMEDIATE I: : INIT-OFS CALL, ] I; ; OVERT $COMPILE $,n ?UNIQUE ." $" ABORT" AFT REPEAT WHILE AHEAD ELSE THEN IF AGAIN UNTIL BEGIN I NEXT FOR $," LITERAL COMPILE [COMPILE] C, , ALLOT ' QUIT PRESET EVAL ?STACK .OK [ $INTERPRET ABORT" ABORT QUERY ACCEPT KTAP TAP ^H NAME? FIND SAME? NAME> TOKEN WORD \ ( .( PARSE parse ? . U. U.R .R ."| $"| DO$ CR TYPE SPACES SPACE NUF? KEY NUMBER? DIGIT? DECIMAL HEX STR #> SIGN #S # HOLD <# EXTRACT DIGIT PACK0 ERASE FILL CMOVE @EXECUTE TIB PAD HERE COUNT 2@ 2! +! PICK DEPTH >CHAR -1 1 0 BL 2/ RSHIFT LSHIFT 1- 1+ 2* 2- 2+ */ */MOD M* * UM* / MOD /MOD M/MOD UM/MOD WITHIN MIN MAX < U< = ABS - S>D DNEGATE NEGATE NOT + 2DUP 2DROP ROT ?DUP OFFSET RAMLAST LAST CP VP CONTEXT HLD 'EVAL TFLASH TBUF #TIB >IN TMP BASE DOVAR UM+ XOR OR AND 0< OVER SWAP DUP DROP SP! SP@ >R R@ R> RP! RP@ C@ C! @ ! EXECUTE BRANCH ?BRANCH next DOLIT EMIT ?KEY TO-RAM TO-FLASH REBOOT TIMEOUT? TIMER PAUSE MSEC RANDOM SEED FREEVAR FORGET AUTORUN SET-ISP DI EI BYE ok
\ *************************************** ok
 \   Application module written in  ok
 \   stm8_eForth ok
 \ *************************************** ok
  ok
  ok
 : BSET ( b a -- ) \ set register bit
 DUP C@ ROT 1 SWAP LSHIFT OR SWAP C! ; ok
  ok
 : BRES ( b a -- ) \ reset register bit
 DUP C@ ROT 1 SWAP LSHIFT NOT AND SWAP C! ; ok
 : BTOGL ( b a -- ) \ toggle register bit
 DUP C@ ROT 1 SWAP LSHIFT XOR SWAP C! ;  ok
 : R16! ( n a -- ) \ set 16 bits register value
 OVER 8 RSHIFT OVER C! 1+ C! ; ok
 REBOOT
stm8eForth v3.0 on stm8s105k6b6
\ *************************************** ok
 \   Application module written in  ok
 \   stm8_eForth ok
 \ *************************************** ok
  ok
  ok
 : BSET ( b a -- ) \ set register bit
 DUP C@ ROT 1 SWAP LSHIFT OR SWAP C! ; ok
 : BRES ( b a -- ) \ reset register bit
 DUP C@ ROT 1 SWAP LSHIFT NOT AND SWAP C! ; ok
 : BTOGL ( b a -- ) \ toggle register bit
 DUP C@ ROT 1 SWAP LSHIFT XOR SWAP C! ;  ok
 : R16! ( n a -- ) \ set 16 bits register value
 OVER 8 RSHIFT OVER C! 1+ C! ; ok
  ok
 REBOOT
stm8eForth v3.0 on stm8s105k6b6
\ *************************************** ok
 \   Application module written in  ok
 \   stm8_eForth ok
 \ *************************************** ok
  ok
  ok
 : BSET ( b a -- ) \ set register bit
 DUP C@ ROT 1 SWAP LSHIFT OR SWAP C! ; ok
  ok
 : BRES ( b a -- ) \ reset register bit
 DUP C@ ROT 1 SWAP LSHIFT NOT AND SWAP C! ; ok
  ok
 : BTOGL ( b a -- ) \ toggle register bit
 DUP C@ ROT 1 SWAP LSHIFT XOR SWAP C! ;  ok
  ok
 : R16! ( n a -- ) \ set 16 bits register value
 OVER 8 RSHIFT OVER C! 1+ C! ; ok
  ok
 WORDS
 R16! BTOGL BRES BSET [N]? WTINIT CTINIT WTABL@ CTABL@ WTABLE CTABLE CALLOT LN2S LOG2S 12RT2 SQRT10 E SQRT3 SQRT2 PI IFMOVE UPDAT-PTR FMOVE FADDR RAM>EE RFREE BUF>ROW ROW>BUF EEC, EE, SET-IVEC CHKIVEC RST-IVEC PRISTINE SET-OPT WR-ROW ROW-ERASE EE! EEC! WR-WORD WR-BYTE EE-CREAD EE-READ PTR+ INC-FPTR LOCK UNLOCK UNLKFL UNLKEE UPDAT-VP UPDAT-CP UPDAT-RUN UPDAT-LAST EEP-VP EEP-CP EEP-RUN EEP-LAST EEPROM FP! COLD 'BOOT hi WORDS .ID >NAME .S DUMP dm+ _TYPE DO-DCONST DCONST DOCONST CONSTANT VARIABLE CREATE IMMEDIATE I: : INIT-OFS CALL, ] I; ; OVERT $COMPILE $,n ?UNIQUE ." $" ABORT" AFT REPEAT WHILE AHEAD ELSE THEN IF AGAIN UNTIL BEGIN I NEXT FOR $," LITERAL COMPILE [COMPILE] C, , ALLOT ' QUIT PRESET EVAL ?STACK .OK [ $INTERPRET ABORT" ABORT QUERY ACCEPT KTAP TAP ^H NAME? FIND SAME? NAME> TOKEN WORD \ ( .( PARSE parse ? . U. U.R .R ."| $"| DO$ CR TYPE SPACES SPACE NUF? KEY NUMBER? DIGIT? DECIMAL HEX STR #> SIGN #S # HOLD <# EXTRACT DIGIT PACK0 ERASE FILL CMOVE @EXECUTE TIB PAD HERE COUNT 2@ 2! +! PICK DEPTH >CHAR -1 1 0 BL 2/ RSHIFT LSHIFT 1- 1+ 2* 2- 2+ */ */MOD M* * UM* / MOD /MOD M/MOD UM/MOD WITHIN MIN MAX < U< = ABS - S>D DNEGATE NEGATE NOT + 2DUP 2DROP ROT ?DUP OFFSET RAMLAST LAST CP VP CONTEXT HLD 'EVAL TFLASH TBUF #TIB >IN TMP BASE DOVAR UM+ XOR OR AND 0< OVER SWAP DUP DROP SP! SP@ >R R@ R> RP! RP@ C@ C! @ ! EXECUTE BRANCH ?BRANCH next DOLIT EMIT ?KEY TO-RAM TO-FLASH REBOOT TIMEOUT? TIMER PAUSE MSEC RANDOM SEED FREEVAR FORGET AUTORUN SET-ISP DI EI BYE ok
: T1 2 FOR I $500F 2DUP C!  BRES 300 PAUSE NEXT ; ok
T1 ok
0   7 32 + $% 500 AA C! ok
T1 ok
7 32 + % $50AA  11 C!  ok
: T1 2 FOR I $500F 2DUP BRES 300 PAUSE BSET NEXT ; reDef T1 ok
T1 ok
T1 ok
3 6 LSHIFT $500C C! ok
: 6 T2 1 FOR I 5 $500A 2DUP          6 + $5J00   00A 2DUP BRES 300 PAUSE BSET NEXT ; ok
T2 ok
T2 ok
: LOOP BEGIN T2 T1 ?KEY UNTIL DROP ; ok
LOOP ok
LOOP ok
LOOP ok
7 $500F C         : T3 2 FOR I $500F BRES NEXT ; ok
T3 ok
: T3 1 OR  FOR I 6 + % $500A BRES NEXT ; reDef T3 ok
T3 ok
7 $500F C! ok
3 6 lsh   LSHIFT $500A C! ok
WORDS
 T3 T3 LOOP T2 T1 T1 R16! BTOGL BRES BSET [N]? WTINIT CTINIT WTABL@ CTABL@ WTABLE CTABLE CALLOT LN2S LOG2S 12RT2 SQRT10 E SQRT3 SQRT2 PI IFMOVE UPDAT-PTR FMOVE FADDR RAM>EE RFREE BUF>ROW ROW>BUF EEC, EE, SET-IVEC CHKIVEC RST-IVEC PRISTINE SET-OPT WR-ROW ROW-ERASE EE! EEC! WR-WORD WR-BYTE EE-CREAD EE-READ PTR+ INC-FPTR LOCK UNLOCK UNLKFL UNLKEE UPDAT-VP UPDAT-CP UPDAT-RUN UPDAT-LAST EEP-VP EEP-CP EEP-RUN EEP-LAST EEPROM FP! COLD 'BOOT hi WORDS .ID >NAME .S DUMP dm+ _TYPE DO-DCONST DCONST DOCONST CONSTANT VARIABLE CREATE IMMEDIATE I: : INIT-OFS CALL, ] I; ; OVERT $COMPILE $,n ?UNIQUE ." $" ABORT" AFT REPEAT WHILE AHEAD ELSE THEN IF AGAIN UNTIL BEGIN I NEXT FOR $," LITERAL COMPILE [COMPILE] C, , ALLOT ' QUIT PRESET EVAL ?STACK .OK [ $INTERPRET ABORT" ABORT QUERY ACCEPT KTAP TAP ^H NAME? FIND SAME? NAME> TOKEN WORD \ ( .( PARSE parse ? . U. U.R .R ."| $"| DO$ CR TYPE SPACES SPACE NUF? KEY NUMBER? DIGIT? DECIMAL HEX STR #> SIGN #S # HOLD <# EXTRACT DIGIT PACK0 ERASE FILL CMOVE @EXECUTE TIB PAD HERE COUNT 2@ 2! +! PICK DEPTH >CHAR -1 1 0 BL 2/ RSHIFT LSHIFT 1- 1+ 2* 2- 2+ */ */MOD M* * UM* / MOD /MOD M/MOD UM/MOD WITHIN MIN MAX < U< = ABS - S>D DNEGATE NEGATE NOT + 2DUP 2DROP ROT ?DUP OFFSET RAMLAST LAST CP VP CONTEXT HLD 'EVAL TFLASH TBUF #TIB >IN TMP BASE DOVAR UM+ XOR OR AND 0< OVER SWAP DUP DROP SP! SP@ >R R@ R> RP! RP@ C@ C! @ ! EXECUTE BRANCH ?BRANCH next DOLIT EMIT ?KEY TO-RAM TO-FLASH REBOOT TIMEOUT? TIMER PAUSE MSEC RANDOM SEED FREEVAR FORGET AUTORUN SET-ISP DI EI BYE ok
REBOOT
stm8eForth v3.0 on stm8s105k6b6
\ *************************************** ok
 \   Application module written in  ok
 \   stm8_eForth ok
 \ *************************************** ok
  ok
 \ TIMER 1 REGISTERS ok
 $5250 DUP CONSTANT T1-CR1  ok
 1+ DUP CONSTANT T1-CR2 ok
 1+ DUP CONSTANT T1-SMCR ok
 1+ DUP CONSTANT T1-ETR ok
 1+ DUP CONSTANT T1-IER ok
 1+ DUP CONSTANT T1-SR1 ok
 1+ DUP CONSTANT T1-SR2 ok
 1+ DUP CONSTANT T1-EGR ok
 1+ DUP CONSTANT T1-CCMR1 ok
 1+ DUP CONSTANT T1-CCMR2 ok
 1+ DUP CONSTANT T1-CCMR3 ok
 1+ DUP CONSTANT T1-CCMR4 ok
 1+ DUP CONSTANT T1-CCER1 ok
 1+ DUP CONSTANT T1-CCER2 ok
 1+ DUP CONSTANT T1-CNTRH ok
 1+ DUP CONSTANT T1-CNTRL ok
 1+ DUP CONSTANT T1-PSCRH ok
 1+ DUP CONSTANT T1-PSCRL ok
 1+ DUP CONSTANT T1-ARRH ok
 1+ DUP CONSTANT T1-ARRL ok
 1+ DUP CONSTANT T1-RCR ok
 1+ DUP CONSTANT T1-CCR1H ok
 1+ DUP CONSTANT T1-CCR1L ok
 1+ DUP CONSTANT T1-CCR2H ok
 1+ DUP CONSTANT T1-CCR2L ok
 1+ DUP CONSTANT T1-CCR3H ok
 1+ DUP CONSTANT T1-CCR3L ok
 1+ DUP CONSTANT T1-CCR4H ok
 1+ DUP CONSTANT T1-CCR4L ok
 1+ DUP CONSTANT T1-BKR ok
 1+ DUP CONSTANT T1-DTR ok
 1+ DUP CONSTANT T1-OISR ok
  ok
 \ TIMER 2 REGISTERS ok
 $5300 DUP CONSTANT T2-CR1 \ registre de contr  le ok
 1+ DUP CONSTANT T2-IER  \ registre d'activation des interruptions ok
 1+ DUP CONSTANT T2-SR1 \ registre de status 1 ok
 1+ DUP CONSTANT T2-SR2 \ registre de status 2 ok
 1+ DUP CONSTANT T2-EGR \ g  n  rateur d'  v  nement ok
 1+ DUP CONSTANT T2-CCMR1 \ mode capture/compare canal 1 ok
 1+ DUP CONSTANT T2-CCMR2 \ mode capture/compare canal 2 ok
 1+ DUP CONSTANT T2-CCMR3 \ mode capture/compare canal 3 ok
 1+ DUP CONSTANT T2-CCER1 \ activation du canal registre 1 ok
 1+ DUP CONSTANT T2-CCER2 \ activation du canal registre 2 ok
 1+ DUP CONSTANT T2-CNTRH \ partie haute du compteur ok
 1+ DUP CONSTANT T2-CNTRL \ partie basse du compteur ok
 1+ DUP CONSTANT T2-PSCR \ pr  diviseur signal clock ok
 1+ DUP CONSTANT T2-ARRH \ partie haute registre de p  riode ok
 1+ DUP CONSTANT T2-ARRL \ partie basse registre de p  riode ok
 1+ DUP CONSTANT T2-CCR1H \ partie haute registre de comparaison canal 1 ok
 1+ DUP CONSTANT T2-CCR1L \ partie basse registre de comparaison canal 1 ok
 1+ DUP CONSTANT T2-CCR2H \ partie haute registre de comparaison canal 2 ok
 1+ DUP CONSTANT T2-CCR2L \ partie basse registre de comparaison canal 2 ok
 1+ DUP CONSTANT T2-CCR3H \ partie haute registre de comparaison canal 3 ok
 1+ DUP CONSTANT T2-CCR3L \ partie basse registre de comparaison canal 3 ok
  ok
 : BSET ( b a -- ) \ set register bit
 DUP C@ ROT 1 SWAP LSHIFT OR SWAP C! ; ok
  ok
 : BRES ( b a -- ) \ reset register bit
 DUP C@ ROT 1 SWAP LSHIFT NOT AND SWAP C! ; ok
  ok
 : BTOGL ( b a -- ) \ toggle register bit
 DUP C@ ROT 1 SWAP LSHIFT XOR SWAP C! ;  ok
  ok
 : R16! ( n a -- ) \ set 16 bits register value
 OVER 8 RSHIFT OVER C! 1+ C! ; ok
  ok
 WORDS
 R16! BTOGL BRES BSET T2-CCR3L T2-CCR3H T2-CCR2L T2-CCR2H T2-CCR1L T2-CCR1H T2-ARRL T2-ARRH T2-PSCR T2-CNTRL T2-CNTRH T2-CCER2 T2-CCER1 T2-CCMR3 T2-CCMR2 T2-CCMR1 T2-EGR T2-SR2 T2-SR1 T2-IER T2-CR1 T1-OISR T1-DTR T1-BKR T1-CCR4L T1-CCR4H T1-CCR3L T1-CCR3H T1-CCR2L T1-CCR2H T1-CCR1L T1-CCR1H T1-RCR T1-ARRL T1-ARRH T1-PSCRL T1-PSCRH T1-CNTRL T1-CNTRH T1-CCER2 T1-CCER1 T1-CCMR4 T1-CCMR3 T1-CCMR2 T1-CCMR1 T1-EGR T1-SR2 T1-SR1 T1-IER T1-ETR T1-SMCR T1-CR2 T1-CR1 [N]? WTINIT CTINIT WTABL@ CTABL@ WTABLE CTABLE CALLOT LN2S LOG2S 12RT2 SQRT10 E SQRT3 SQRT2 PI IFMOVE UPDAT-PTR FMOVE FADDR RAM>EE RFREE BUF>ROW ROW>BUF EEC, EE, SET-IVEC CHKIVEC RST-IVEC PRISTINE SET-OPT WR-ROW ROW-ERASE EE! EEC! WR-WORD WR-BYTE EE-CREAD EE-READ PTR+ INC-FPTR LOCK UNLOCK UNLKFL UNLKEE UPDAT-VP UPDAT-CP UPDAT-RUN UPDAT-LAST EEP-VP EEP-CP EEP-RUN EEP-LAST EEPROM FP! COLD 'BOOT hi WORDS .ID >NAME .S DUMP dm+ _TYPE DO-DCONST DCONST DOCONST CONSTANT VARIABLE CREATE IMMEDIATE I: : INIT-OFS CALL, ] I; ; OVERT $COMPILE $,n ?UNIQUE ." $" ABORT" AFT REPEAT WHILE AHEAD ELSE THEN IF AGAIN UNTIL BEGIN I NEXT FOR $," LITERAL COMPILE [COMPILE] C, , ALLOT ' QUIT PRESET EVAL ?STACK .OK [ $INTERPRET ABORT" ABORT QUERY ACCEPT KTAP TAP ^H NAME? FIND SAME? NAME> TOKEN WORD \ ( .( PARSE parse ? . U. U.R .R ."| $"| DO$ CR TYPE SPACES SPACE NUF? KEY NUMBER? DIGIT? DECIMAL HEX STR #> SIGN #S # HOLD <# EXTRACT DIGIT PACK0 ERASE FILL CMOVE @EXECUTE TIB PAD HERE COUNT 2@ 2! +! PICK DEPTH >CHAR -1 1 0 BL 2/ RSHIFT LSHIFT 1- 1+ 2* 2- 2+ */ */MOD M* * UM* / MOD /MOD M/MOD UM/MOD WITHIN MIN MAX < U< = ABS - S>D DNEGATE NEGATE NOT + 2DUP 2DROP ROT ?DUP OFFSET RAMLAST LAST CP VP CONTEXT HLD 'EVAL TFLASH TBUF #TIB >IN TMP BASE DOVAR UM+ XOR OR AND 0< OVER SWAP DUP DROP SP! SP@ >R R@ R> RP! RP@ C@ C! @ ! EXECUTE BRANCH ?BRANCH next DOLIT EMIT ?KEY TO-RAM TO-FLASH REBOOT TIMEOUT? TIMER PAUSE MSEC RANDOM SEED FREEVAR FORGET AUTORUN SET-ISP DI EI BYE ok
